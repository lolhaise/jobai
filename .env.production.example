# Production Environment Configuration
# Copy this file to .env.production and fill in your values

# Application
NODE_ENV=production
APP_NAME=JobAI
APP_URL=https://jobai.app
API_URL=https://api.jobai.app

# Database (PostgreSQL)
# For Supabase: postgres://[USER]:[PASSWORD]@[HOST]:5432/postgres
# For Neon: postgres://[USER]:[PASSWORD]@[HOST]/[DATABASE]?sslmode=require
DATABASE_URL=
DB_USER=jobai_user
DB_PASSWORD=
DB_HOST=
DB_PORT=5432
DB_NAME=jobai
DB_SSL=true
DB_POOL_MIN=2
DB_POOL_MAX=10

# Redis (Upstash)
# Format: redis://default:[PASSWORD]@[HOST]:[PORT]
REDIS_URL=
REDIS_PASSWORD=
REDIS_TLS=true
REDIS_FAMILY=6

# Authentication
NEXTAUTH_URL=https://jobai.app
NEXTAUTH_SECRET= # Generate with: openssl rand -base64 32
JWT_SECRET= # Generate with: openssl rand -base64 32
JWT_EXPIRATION=30d

# OAuth Providers
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# AI Services
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4000
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-opus-20240229

# Job APIs
USAJOBS_API_KEY=
USAJOBS_USER_AGENT=jobai-app/1.0 (contact@jobai.app)
THE_MUSE_API_KEY=
ADZUNA_APP_ID= # Future expansion
ADZUNA_API_KEY= # Future expansion
INDEED_PUBLISHER_ID= # Future expansion

# Email Service (SendGrid/Mailgun/AWS SES)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=
SMTP_FROM=noreply@jobai.app
SMTP_SECURE=false
EMAIL_PROVIDER=sendgrid # sendgrid | mailgun | ses | smtp

# Calendar Integration
GOOGLE_CALENDAR_CLIENT_ID=
GOOGLE_CALENDAR_CLIENT_SECRET=
GOOGLE_CALENDAR_REDIRECT_URI=https://jobai.app/api/calendar/google/callback
OUTLOOK_CLIENT_ID=
OUTLOOK_CLIENT_SECRET=
OUTLOOK_REDIRECT_URI=https://jobai.app/api/calendar/outlook/callback

# Security
ENCRYPTION_KEY= # Generate with: openssl rand -hex 32
ENCRYPTION_ALGORITHM=aes-256-gcm
BCRYPT_ROUNDS=12
CSRF_SECRET= # Generate with: openssl rand -base64 32
SESSION_SECRET= # Generate with: openssl rand -base64 32
COOKIE_SECURE=true
COOKIE_HTTPONLY=true
COOKIE_SAMESITE=strict

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# CORS
CORS_ENABLED=true
CORS_ORIGINS=https://jobai.app,https://www.jobai.app
CORS_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# CDN (Cloudflare/CloudFront/Fastly)
CDN_ENABLED=true
CDN_URL=https://cdn.jobai.app
CDN_PROVIDER=cloudflare # cloudflare | cloudfront | fastly
CDN_ZONE_ID=
CDN_API_TOKEN=

# Storage (S3/Cloudinary/Uploadcare)
STORAGE_PROVIDER=s3 # s3 | cloudinary | uploadcare | local
AWS_S3_BUCKET=jobai-uploads
AWS_S3_REGION=us-east-1
AWS_S3_ACCESS_KEY=
AWS_S3_SECRET_KEY=
AWS_S3_ENDPOINT= # For S3-compatible services
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# Monitoring & Analytics
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
NEW_RELIC_LICENSE_KEY=
NEW_RELIC_APP_NAME=JobAI
POSTHOG_API_KEY=
POSTHOG_HOST=https://app.posthog.com
GOOGLE_ANALYTICS_ID=
MIXPANEL_TOKEN=

# Logging
LOG_LEVEL=info # debug | info | warn | error
LOG_FORMAT=json # json | pretty
LOG_DESTINATION=file # console | file | both
LOG_FILE_PATH=/app/logs/app.log
LOG_MAX_SIZE=100M
LOG_MAX_FILES=30
LOG_COMPRESS=true

# Performance
NODE_OPTIONS="--max-old-space-size=2048"
WEB_CONCURRENCY=2
WORKER_CONCURRENCY=4
DB_CONNECTION_TIMEOUT=60000
REQUEST_TIMEOUT=30000

# Feature Flags
FEATURE_AI_COVER_LETTERS=true
FEATURE_AI_RESUME_TAILORING=true
FEATURE_CALENDAR_SYNC=true
FEATURE_PUSH_NOTIFICATIONS=true
FEATURE_PREMIUM_SUBSCRIPTIONS=true
FEATURE_TEAM_ACCOUNTS=false
FEATURE_API_ACCESS=false

# Payments (Stripe)
STRIPE_PUBLISHABLE_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_PRICE_ID_MONTHLY=
STRIPE_PRICE_ID_YEARLY=

# Public Environment Variables (exposed to client)
NEXT_PUBLIC_API_URL=https://api.jobai.app
NEXT_PUBLIC_APP_URL=https://jobai.app
NEXT_PUBLIC_CDN_URL=https://cdn.jobai.app
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
NEXT_PUBLIC_GOOGLE_ANALYTICS_ID=
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_SENTRY_DSN=